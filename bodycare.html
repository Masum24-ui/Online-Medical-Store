<!doctype html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="icon" href="logo.png" type="icon">
  <title>Online Medical Store</title>

  <link href="fonts/font-awesome.min.css" rel="stylesheet">
  <link href="contact.css" rel="stylesheet">
  <style>
    form div label {
      color: white;
    }

    h1 {
      color: lightgreen;
    }
    h3 h2{
      font-family: 'Outfit', sans-serif;
      }
      footer {
    background-color: rgb(223, 217, 217);
    width: 100%;
      }

    .form-control {
      background-color: transparent;
      color: azure;
    }
    body{
            background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.3)), url('main.jpg');
            background-repeat: no-repeat;
            color: antiquewhite;
            background-attachment: fixed;
            background-size: cover
        }
    .show-cart li {
             display: flex;
        }
.card {
  margin-bottom: 20px;
      }
.card-img-top {
  width: 200px;
  height: 200px;
  align-self: center;
    }   
    
  </style>


  <nav class="navbar navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
      <div class="img" style="padding-right: 20px;"><img src="logo1.jpg" alt="icon" style="width: 40px ;"height="40px">
      </div>



      <a class="navbar-brand" style="width:55%; font-size: 30px; color: lightgreen;" href="#"><b>Medical Store</b></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" style="margin-left: 20%; " id="navbarNav">
        <center>
          <ul class="navbar-nav ">
            <li class="navitem">
              <a style="font-size: 23px;" class="navlink" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a style="font-size: 23px;" class="navlink" href="About.html">About</a>
            </li>
            <li class="navitem">
              <a style="font-size: 23px;" class="navlink" href="gallery.html">Gallery</a>
            </li>
            <li class="navitem">
              <a style="font-size: 23px;" class="navlink" href="service.html">Service</a>
            </li>
            <li class="navitem">
              <a style="font-size: 23px;" class="navlink" href="contact.html">Contact</a>
            </li>
          </ul>
        </center>
      </div>
    </div>
  </nav>
</head>
<body>
  
  
  <!-- Main -->
  <br>
  <br>
  <div class="container">
      <div class="row">
        <div class="col">
          <div class="card" style="width: 20rem;">
    <img class="card-img-top" src="body1.jpg" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title" style= color:black;>NIVEA(Nourishing Serum)</h4>
      <p class="card-text" style= color:black;>MRP: Rs.200 (500ML)</p>
      <a href="buy.html" data-name="Orange" data-price="0.5" class="add-to-cart btn btn-primary">BUY</a>
    </div>
  </div>
        </div>
        <div class="col">
          <div class="card" style="width: 20rem;">
    <img class="card-img-top" src="body2.jpg" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title" style= color:black;>DOVE Body Lotion</h4>
      <p class="card-text" style= color:black;>MRP: Rs.250 (400ML)</p>
      <a href="buy.html" data-name="Banana" data-price="1.22" class="add-to-cart btn btn-primary">BUY</a>
    </div>
  </div>
        </div>
        <div class="col">
          <div class="card" style="width: 20rem;">
    <img class="card-img-top" src="body3.jpg" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title" style= color:black;>VESELINE + NIVEA </h4>
      <p class="card-text" style= color:black;>MRP: Rs.500 (250ML+250ML)</p>
      <a href="buy.html" data-name="Lemon" data-price="5" class="add-to-cart btn btn-primary">BUY</a>
    </div>
  </div>
   </div>
    <div class="col">
      <br>
          <div class="card" style="width: 20rem;">
    <img class="card-img-top" src="body4.jpg" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title" style= color:black;>DOVE Hand Cream</h4>
      <p class="card-text" style= color:black;>MRP: Rs.500 (200ML)</p>
      <a href="buy.html" data-name="Orange" data-price="0.5" class="add-to-cart btn btn-primary">BUY</a>
    </div>
  </div>
        </div>
        <div class="col">
          <br>
          <div class="card" style="width: 20rem;">
    <img class="card-img-top" src="body5.jpg" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title" style= color:black;>NIVEA Care Cream</h4>
      <p class="card-text" style= color:black;>MRP: Rs.100 (50ML)</p>
      <a href="buy.html" data-name="Banana" data-price="1.22" class="add-to-cart btn btn-primary">BUY</a>
    </div>
  </div>
        </div>
        <div class="col">
          <br>
          <div class="card" style="width: 20rem;">
    <img class="card-img-top" src="body6.jpg" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title" style= color:black;>DOVE Soap</h4>
      <p class="card-text" style= color:black;>MRP: Rs.26 (50GM)</p>
      <a href="buy.html" data-name="Lemon" data-price="5" class="add-to-cart btn btn-primary">BUY</a>
    </div>
  </div>
        </div>
      </div>
  </div>
  
    
   <!-- Modal -->
  <div class="modal fade" id="cart" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Cart</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <table class="show-cart table">
            
          </table>
          <div>Total price: $<span class="total-cart"></span></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Order now</button>
        </div>
      </div>
    </div>
  </div> 

  <script>var shoppingCart = (function() { 
      // =============================
      // Private methods and propeties
      // =============================
      cart = [];
      
      // Constructor
      function Item(name, price, count) {
        this.name = name;
        this.price = price;
        this.count = count;
      }
      
      // Save cart
      function saveCart() {
        sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
      }
      
        // Load cart
      function loadCart() {
        cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
      }
      if (sessionStorage.getItem("shoppingCart") != null) {
        loadCart();
      }
      
    
      // =============================
      // Public methods and propeties
      // =============================
      var obj = {};
      
      // Add to cart
      obj.addItemToCart = function(name, price, count) {
        for(var item in cart) {
          if(cart[item].name === name) {
            cart[item].count ++;
            saveCart();
            return;
          }
        }
        var item = new Item(name, price, count);
        cart.push(item);
        saveCart();
      }
      // Set count from item
      obj.setCountForItem = function(name, count) {
        for(var i in cart) {
          if (cart[i].name === name) {
            cart[i].count = count;
            break;
          }
        }
      };
      // Remove item from cart
      obj.removeItemFromCart = function(name) {
          for(var item in cart) {
            if(cart[item].name === name) {
              cart[item].count --;
              if(cart[item].count === 0) {
                cart.splice(item, 1);
              }
              break;
            }
        }
        saveCart();
      }
    
      // Remove all items from cart
      obj.removeItemFromCartAll = function(name) {
        for(var item in cart) {
          if(cart[item].name === name) {
            cart.splice(item, 1);
            break;
          }
        }
        saveCart();
      }
    
      // Clear cart
      obj.clearCart = function() {
        cart = [];
        saveCart();
      }
    
      // Count cart 
      obj.totalCount = function() {
        var totalCount = 0;
        for(var item in cart) {
          totalCount += cart[item].count;
        }
        return totalCount;
      }
    
      // Total cart
      obj.totalCart = function() {
        var totalCart = 0;
        for(var item in cart) {
          totalCart += cart[item].price * cart[item].count;
        }
        return Number(totalCart.toFixed(2));
      }
    
      // List cart
      obj.listCart = function() {
        var cartCopy = [];
        for(i in cart) {
          item = cart[i];
          itemCopy = {};
          for(p in item) {
            itemCopy[p] = item[p];
    
          }
          itemCopy.total = Number(item.price * item.count).toFixed(2);
          cartCopy.push(itemCopy)
        }
        return cartCopy;
      }
    
      // cart : Array
      // Item : Object/Class
      // addItemToCart : Function
      // removeItemFromCart : Function
      // removeItemFromCartAll : Function
      // clearCart : Function
      // countCart : Function
      // totalCart : Function
      // listCart : Function
      // saveCart : Function
      // loadCart : Function
      return obj;
    })();
    
    
    // ***************
    // Triggers / Events
    // *************** 
    // Add item
    $('.add-to-cart').click(function(event) {
      event.preventDefault();
      var name = $(this).data('name');
      var price = Number($(this).data('price'));
      shoppingCart.addItemToCart(name, price, 1);
      displayCart();
    });
    
    // Clear items
    $('.clear-cart').click(function() {
      shoppingCart.clearCart();
      displayCart();
    });
    
    
    function displayCart() {
      var cartArray = shoppingCart.listCart();
      var output = "";
      for(var i in cartArray) {
        output += "<tr>"
          + "<td>" + cartArray[i].name + "</td>" 
          + "<td>(" + cartArray[i].price + ")</td>"
          + "<td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name=" + cartArray[i].name + ">-</button>"
          + "<input type='number' class='item-count form-control' data-name='" + cartArray[i].name + "' value='" + cartArray[i].count + "'>"
          + "<button class='plus-item btn btn-primary input-group-addon' data-name=" + cartArray[i].name + ">+</button></div></td>"
          + "<td><button class='delete-item btn btn-danger' data-name=" + cartArray[i].name + ">X</button></td>"
          + " = " 
          + "<td>" + cartArray[i].total + "</td>" 
          +  "</tr>";
      }
      $('.show-cart').html(output);
      $('.total-cart').html(shoppingCart.totalCart());
      $('.total-count').html(shoppingCart.totalCount());
    }
    
    // Delete item button
    
    $('.show-cart').on("click", ".delete-item", function(event) {
      var name = $(this).data('name')
      shoppingCart.removeItemFromCartAll(name);
      displayCart();
    })
    
    
    // -1
    $('.show-cart').on("click", ".minus-item", function(event) {
      var name = $(this).data('name')
      shoppingCart.removeItemFromCart(name);
      displayCart();
    })
    // +1
    $('.show-cart').on("click", ".plus-item", function(event) {
      var name = $(this).data('name')
      shoppingCart.addItemToCart(name);
      displayCart();
    })
    
    // Item count input
    $('.show-cart').on("change", ".item-count", function(event) {
       var name = $(this).data('name');
       var count = Number($(this).val());
      shoppingCart.setCountForItem(name, count);
      displayCart();
    });
    
    displayCart();
    </script>
  </html>